<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Data Platform Migration Upgrade – includes</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cloudworkshop.blob.core.windows.net/styles/labstyles.css"></link>
</head>
<body>
<p><img src="images/HeaderPic.png" title="Microsoft Cloud Workshops" /></p>
<div class="MCWHeader1">
<p>Data platform upgrade and migration</p>
</div>
<div class="MCWHeader2">
<p>Whiteboard design session trainer guide</p>
</div>
<div class="MCWHeader3">
<p>March 2018</p>
</div>
<p>Information in this document, including URL and other Internet Web site references, is subject to change without notice. Unless otherwise noted, the example companies, organizations, products, domain names, e-mail addresses, logos, people, places, and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, e-mail address, logo, person, place or event is intended or should be inferred. Complying with all applicable copyright laws is the responsibility of the user. Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.</p>
<p>Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document. Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.</p>
<p>The names of manufacturers, products, or URLs are provided for informational purposes only and Microsoft makes no representations and warranties, either expressed, implied, or statutory, regarding these manufacturers or the use of the products with any Microsoft technologies. The inclusion of a manufacturer or product does not imply endorsement of Microsoft of the manufacturer or product. Links may be provided to third party sites. Such sites are not under the control of Microsoft and Microsoft is not responsible for the contents of any linked site or any link contained in a linked site, or any changes or updates to such sites. Microsoft is not responsible for webcasting or any other form of transmission received from any linked site. Microsoft is providing these links to you only as a convenience, and the inclusion of any link does not imply endorsement of Microsoft of the site or the products contained therein. © 2018 Microsoft Corporation. All rights reserved.</p>
<p>Microsoft and the trademarks listed at https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/Usage/General.aspx are trademarks of the Microsoft group of companies. All other trademarks are property of their respective owners.</p>
<p><strong>Contents</strong></p>
<!-- TOC -->
<ul>
<li><a href="#trainer-information">Trainer information</a>
<ul>
<li><a href="#role-of-the-trainer">Role of the trainer</a></li>
<li><a href="#whiteboard-design-session-flow">Whiteboard design session flow</a></li>
<li><a href="#before-the-whiteboard-design-session-how-to-prepare">Before the whiteboard design session: How to prepare</a></li>
<li><a href="#during-the-whiteboard-design-session-tips-for-an-effective-whiteboard-design-session">During the whiteboard design session: Tips for an effective whiteboard design session</a></li>
</ul></li>
<li><a href="#data-platform-upgrade-and-migration-whiteboard-design-session-student-guide">Data platform upgrade and migration whiteboard design session student guide</a>
<ul>
<li><a href="#abstract-and-learning-objectives">Abstract and learning objectives</a></li>
<li><a href="#step-1-review-the-customer-case-study">Step 1: Review the customer case study</a>
<ul>
<li><a href="#customer-situation">Customer situation</a></li>
<li><a href="#customer-needs">Customer needs</a></li>
<li><a href="#customer-objections">Customer objections</a></li>
<li><a href="#infographic-for-common-scenarios">Infographic for common scenarios</a></li>
</ul></li>
<li><a href="#step-2-design-a-proof-of-concept-solution">Step 2: Design a proof of concept solution</a></li>
<li><a href="#step-3-present-the-solution">Step 3: Present the solution</a></li>
<li><a href="#wrap-up">Wrap-up</a></li>
<li><a href="#additional-references">Additional references</a></li>
</ul></li>
<li><a href="#data-platform-upgrade-and-migration-whiteboard-design-session-trainer-guide">Data platform upgrade and migration whiteboard design session trainer guide</a>
<ul>
<li><a href="#step-1-review-the-customer-case-study-1">Step 1: Review the customer case study</a></li>
<li><a href="#step-2-design-a-proof-of-concept-solution-1">Step 2: Design a proof of concept solution</a></li>
<li><a href="#step-3-present-the-solution-1">Step 3: Present the solution</a></li>
<li><a href="#wrap-up-1">Wrap-up</a></li>
<li><a href="#preferred-target-audience">Preferred target audience</a></li>
<li><a href="#preferred-solution">Preferred solution</a></li>
<li><a href="#checklist-of-preferred-objection-handling">Checklist of preferred objection handling</a></li>
<li><a href="#customer-quote-to-be-read-back-to-the-attendees-at-the-end">Customer quote (to be read back to the attendees at the end)</a></li>
</ul></li>
</ul>
<!-- /TOC -->
<h1 id="trainer-information">Trainer information</h1>
<p>Thank you for taking time to support the whiteboard design sessions as a trainer!</p>
<h2 id="role-of-the-trainer">Role of the trainer</h2>
<p>An amazing trainer:</p>
<ul>
<li><p>Creates a safe environment in which learning can take place.</p></li>
<li><p>Stimulates the participant’s thinking.</p></li>
<li><p>Involves the participant in the learning process.</p></li>
<li><p>Manages the learning process (on time, on topic, and adjusting to benefit participants).</p></li>
<li><p>Ensures individual participant accountability.</p></li>
<li><p>Ties it all together for the participant.</p></li>
<li><p>Provides insight and experience to the learning process.</p></li>
<li><p>Effectively leads the whiteboard design session discussion.</p></li>
<li><p>Monitors quality and appropriateness of participant deliverables.</p></li>
<li><p>Effectively leads the feedback process.</p></li>
</ul>
<h2 id="whiteboard-design-session-flow">Whiteboard design session flow</h2>
<p>Each whiteboard design session uses the following flow:</p>
<p><strong>Step 1: Review the customer case study (15 minutes)</strong></p>
<p>Outcome: Analyze your customer’s needs</p>
<ul>
<li><p>Customer’s background, situation, needs and technical requirements</p></li>
<li><p>Current customer infrastructure and architecture</p></li>
<li><p>Potential issues, objectives and blockers</p></li>
</ul>
<p><strong>Step 2: Design a proof of concept solution (60 minutes)</strong></p>
<p>Outcome: Prepare to present a solution for your target customer audience</p>
<ul>
<li><p>Determine your target customer audience</p></li>
<li><p>Determine customer’s business needs to address your solution</p></li>
<li><p>Design and diagram your solution</p></li>
<li><p>Prepare to present your solution</p></li>
</ul>
<p><strong>Step 3: Present the solution (30 minutes)</strong></p>
<p>Outcome: Present solution to your customer</p>
<ul>
<li><p>Present solution</p></li>
<li><p>Respond to customer objections</p></li>
<li><p>Receive feedback</p></li>
</ul>
<p><strong>Wrap-up (15 minutes)</strong></p>
<ul>
<li>Review preferred solution</li>
</ul>
<h2 id="before-the-whiteboard-design-session-how-to-prepare">Before the whiteboard design session: How to prepare</h2>
<p>Before conducting your first whiteboard design session:</p>
<ul>
<li><p>Read the Student guide (including the case study) and Trainer guide</p></li>
<li><p>Become familiar with all key points and activities.</p></li>
<li><p>Plan the point you want to stress, which questions you want to drive, transitions, and be ready to answer questions.</p></li>
<li><p>Prior to the whiteboard design session, discuss the case study to pick up more ideas.</p></li>
<li><p>Make notes for later.</p></li>
</ul>
<h2 id="during-the-whiteboard-design-session-tips-for-an-effective-whiteboard-design-session">During the whiteboard design session: Tips for an effective whiteboard design session</h2>
<p><strong>Refer to the Trainer guide</strong> to stay on track and observe the timings.</p>
<p><strong>Do not expect to memorize every detail</strong> of the whiteboard design session.</p>
<p>When participants are doing activities, you can <strong>look ahead to refresh your memory</strong>.</p>
<ul>
<li><p><strong>Adjust activity and whiteboard design session pace</strong> as needed to allow time for presenting, feedback, and sharing.</p></li>
<li><p><strong>Add examples, points, and stories</strong> from your own experience. Think about stories you can share that help you make your points clearly and effectively.</p></li>
<li><p><strong>Consider creating a “parking lot”</strong> to record issues or questions raised that are outside the scope of the whiteboard design session or can be answered later. Decide how you will address these issues, so you can acknowledge them without being derailed by them.</p></li>
</ul>
<p><em><strong>Have fun</strong>! Encourage participants to have fun and share!</em></p>
<p><strong>Involve your participants.</strong> Talk and share your knowledge but always involve your participants, even while you are the one speaking.</p>
<p><strong>Ask questions</strong> and get them to share to fully involve your group in the learning process.</p>
<p><strong>Ask first</strong>, whenever possible. Before launching into a topic, learn your audience’s opinions about it and experiences with it. Asking first enables you to assess their level of knowledge and experience, and leaves them more open to what you are presenting.</p>
<p><strong>Wait for responses</strong>. If you ask a question such as, “What’s your experience with (fill in the blank)?” then wait. Do not be afraid of a little silence. If you leap into the silence, your participants will feel you are not serious about involving them and will become passive. Give participants a chance to think, and if no one answers, patiently ask again. You will usually get a response.</p>
<h1 id="data-platform-upgrade-and-migration-whiteboard-design-session-student-guide">Data platform upgrade and migration whiteboard design session student guide</h1>
<h2 id="abstract-and-learning-objectives">Abstract and learning objectives</h2>
<p>This hands-on lab is designed to help attendees better understand how to build a Proof-of-Concept (POC) and conduct a site analysis for a customer to compare cost, performance, and level of effort required to migrate from Oracle to SQL Server. You will evaluate the dependent applications and reports that will need to be updated and come up with a migration plan. In addition, attendees will help the customer take advantage of new SQL Server features to improve performance and resiliency, as well as explore ways to migrate from an old version of SQL Server to the newest version and consider the impact of migrating from on-premises to the cloud.</p>
<p>Learning Objectives:</p>
<ul>
<li><p>Migrate from Oracle to SQL Server using SQL Server Migration Assistant</p></li>
<li><p>Migrate between different SQL Server editions using Data Migration Assistant</p></li>
<li><p>Use advanced SQL Server features, such as JavaScript Object Notation (JSON) data store, table compression, Transparent Data Encryption, and clustered ColumnStore indexing</p></li>
<li><p>Consider the steps required to update existing applications to use the new data platform</p></li>
<li><p>Analyze and improve database performance</p></li>
<li><p>Implement high availability using Stretch Database and AlwaysOn Availability Groups</p></li>
</ul>
<h2 id="step-1-review-the-customer-case-study">Step 1: Review the customer case study</h2>
<p><strong>Outcome</strong></p>
<p>Analyze your customer’s needs. Time frame: 15 minutes Directions: With all participants in the session, the facilitator/SME presents an overview of the customer case study along with technical tips. 1. Meet your table participants and trainer 2. Read all of the directions for steps 1–3 in the student guide 3. As a table team, review the following customer case study</p>
<h3 id="customer-situation">Customer situation</h3>
<p>World Wide Importers (WWI) has experienced huge growth over the last few years. With that growth has come a tremendous influx in new data they need to maintain their business. This data has become increasingly expensive to store in an Oracle relational database management system (RDBMS). Oracle upgrades are long and expensive projects. Business stake holders have tired of the process and have requested a proof of concept (POC) on replacing Oracle with Microsoft SQL Server.</p>
<p>WWI is investigating ways they can increase speed on their transactional databases without expensive new license fees. They’re also concerned with keeping their transactional system available and online for their store. They’ve noticed that Oracle has been slowing down as their growth has doubled. They realize they will need a new investment in hardware and are looking at this as more of a migration to a new system.</p>
<p>WWI has several external and internal applications that need to migrate with the database. The database is used by an online store application, written in ASP.NET MVC. They also have internal applications that manage their product catalog, written in Oracle Forms. In addition, they have many reports to aid in forecasting, sales reporting, and inventory maintenance. Those reports are a mixture of SQL Server Reporting Services (SSRS), Excel, and Oracle Forms and hit the Oracle OLTP database directly.</p>
<p>WWI also uses this database to interact with vendors. Several of their vendors require real-time access to their sales data through an API so they can draw warranty information on date of sale. They do this through a Representational State Transfer (REST) service that is maintained by WWI.</p>
<p>WWI also loads the Oracle database into a Microsoft SQL Server 2008 R2 Standard Edition data warehouse. The head of IT constantly fails an audit where he is asked if their data warehouse encrypts data at rest. He realizes he needs to upgrade to the Enterprise Edition and would like to include an upgrade in this POC.</p>
<p>Before WWI invests in this project, they want a proof of concept that encompasses these touch points and proves that it can be successful.</p>
<p>WWI also has a new requirement. They have an existing web service that interacts with a vendor to get the latest certifications of that vendors’ products. The JSON parser sometimes fails and they can’t figure out why. They’d like to store the initial, unparsed JSON in a table for troubleshooting purposes. They would like to query the JSON data by date or by other identifying pieces of the JSON that might be available for troubleshooting. They want to know the best way to do that.</p>
<p>Also, they had a significant outage last year because one of their audit tables ran out of space. They had to wait many hours to resolve the issue while their IT department scrambled to make space on an already overloaded Storage Area Network (SAN). They would like a full briefing on how to monitor that situation, so it doesn’t happen again, and possible remedies if it does happen again. They would also like high availability to be built into the project plan and are wondering what additional fees that would incur.</p>
<p>Kathleen Sloan, the CIO of WWI, is looking to decrease their software license fees, take advantage of a modern data warehouse, and provide a strong vision of availability for the future that will handle their momentous growth. She is sold on SQL Server, but her Oracle DBAs keep telling her that a migration to SQL Server is simply impossible. They cite that they have never done it before. They say it’s hard to find tools that make it possible. The Oracle DBAs say that SQL Server is not as high performing as Oracle, does not have great high availability like Oracle Real Application Clusters (RAC), and doesn’t have a replacement for Oracle Forms. She’s tired of hearing no whenever the topic is brought up and would love to prove them wrong. She is also exploring the cloud and is wondering if she can make a direct migration to a cloud database or if she must stay on-premises because of her requirements. She has seen SQL Server make tremendous gains in features over the last several versions, particularly in business intelligence. Her data warehouse has slowed down as the data has increased. On one hand, this is because the data warehouse SQL Server has gotten very popular, but it’s still a negative in her mind. She’s concerned about the upgrade path because of all the dependencies on the data warehouse in her organization.</p>
<h3 id="customer-needs">Customer needs</h3>
<ol type="1">
<li><p>Wants to migrate an existing Oracle database to SQL Server 2017 on-premises, SQL Server 2017 in an Azure VM, or Azure SQL Database</p></li>
<li><p>Needs to know what’s involved in migrating the external sales application to SQL Server</p></li>
<li><p>Wants more understanding on what to do with the internal Oracle Forms application</p></li>
<li><p>Has multiple touch points with external vendors and needs to know what needs to change with those web services</p></li>
<li><p>Wants to upgrade their existing data warehouse from SQL Server 2008 Standard Edition to SQL Server 2017 Enterprise Edition to take advantage of some new features:</p>
<ul>
<li><p>They want Transparent Data Encryption, so they pass audits when asked if they encrypt data at rest</p></li>
<li><p>They want compression for some of their large fact tables.</p></li>
<li><p>They want to implement SSRS mobile reporting</p></li>
<li><p>They hear about in-memory structures and are wondering if they can benefit from those. They aren’t entirely sure how it is different from what they are using now.</p></li>
<li><p>They have a lot of SQL Server Integration Services (SSIS) packages that are executed through SQL Server Agent jobs. They’d like to know the upgrade path for those.</p></li>
</ul></li>
<li><p>Need web-based visualizations on sales and forecasting. Needs a plan on how to upgrade their existing reporting infrastructure.</p></li>
<li><p>Have a new requirement on what to do with JSON data</p></li>
<li><p>Had an outage last year and is hyper concerned with not repeating that experience. The audit table filled up and they ran out of disk space. They’d like to know what would have happened if SQL Server experienced the same issue and you’re your solution would be.</p></li>
<li><p>As a follow up, they’d also like to know how to answer the Oracle DBA’s allegation that SQL Server doesn’t have an answer for Oracle RAC</p></li>
</ol>
<h3 id="customer-objections">Customer objections</h3>
<ol type="1">
<li><p>Do we need to upgrade to on-premises SQL Server first or go straight to Azure?</p></li>
<li><p>Can we have two proof of concepts that demonstrate both migrations?</p></li>
<li><p>Do we need to rewrite all our applications for SQL Server?</p></li>
<li><p>Do we need to rewrite all our reports for SQL Server?</p></li>
<li><p>Will our security migrate over from Oracle to SQL Server? How do we handle security in the new database?</p></li>
<li><p>Do we need to invest in a JSON storage system for the JSON data we’re storing from our vendor’s web service?</p></li>
<li><p>What will we do if our audit logs fill up again? Will SQL Server crash the same way Oracle did?</p></li>
<li><p>If we take advantage of new features, will our license costs keep ratcheting up and up? Will we have a dependable way of budgeting for this project?</p></li>
<li><p>Are there any Oracle features required by WWI for which SQL Server has no equivalent?</p></li>
<li><p>Do we need to tell all our vendors that we’re changing databases so their integrations work?</p></li>
<li><p>What will stop us from upgrading our data warehouse to SQL Server 2017 Enterprise?</p></li>
<li><p>When we upgrade the data warehouse, how will we keep all our connected dependencies updated?</p></li>
<li><p>What will happen with SSIS, SSRS, and SQL Server Analysis Services (SSAS)?</p></li>
<li><p>How will security and SQL Agent Jobs migrate over?</p></li>
</ol>
<h3 id="infographic-for-common-scenarios">Infographic for common scenarios</h3>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image2.png" title="Common Scenario diagram" alt="This common scenario diagram includes the following elements: API App for vendor connections; Web App for Internet Sales Transactions; Oracle Forms App for inventory management;Oracle DB OLTP RAC Server; SSRS 2008 for Reporting of OLTP, Data Warehouse, and Cubes; SSIS 2008 for a Data Warehouse Load; Excel for reporting; SQL Server 2008 R2 Standard for a Data Warehouse; and SSAS2008 for a Data Warehouse." /><figcaption>This common scenario diagram includes the following elements: API App for vendor connections; Web App for Internet Sales Transactions; Oracle Forms App for inventory management;Oracle DB OLTP RAC Server; SSRS 2008 for Reporting of OLTP, Data Warehouse, and Cubes; SSIS 2008 for a Data Warehouse Load; Excel for reporting; SQL Server 2008 R2 Standard for a Data Warehouse; and SSAS2008 for a Data Warehouse.</figcaption>
</figure>
<h2 id="step-2-design-a-proof-of-concept-solution">Step 2: Design a proof of concept solution</h2>
<p><strong>Outcome</strong> Design a solution and prepare to present the solution to the target customer audience in a 15-minute chalk-talk format.</p>
<p>Time frame: 60 minutes</p>
<p><strong>Business needs</strong></p>
<p>Directions: With all participants at your table, answer the following questions and list the answers on a flip chart. 1. Who should you present this solution to? Who is your target customer audience? Who are the decision makers? 2. What customer business needs do you need to address with your solution?</p>
<p><strong>Design</strong> Directions: With all participants at your table, respond to the following questions on a flip chart.</p>
<p><em>High-level architecture</em></p>
<ol type="1">
<li><p>Without getting into the details (the following sections will address the details), diagram your initial vision for handling the top-level requirements for data loading, data preparation, storage, high availability, application migration, and reporting. You will refine this diagram as you proceed.</p></li>
<li><p>What should be included in the POC and what should be excluded?</p></li>
<li><p>How will SQL Server save them on licensing costs?</p></li>
</ol>
<p><em>Schema and data movement</em></p>
<ol type="1">
<li><p>How would you recommend that WWI move their data and schema into SQL Server? What services would you suggest and what are the specific steps they would need to take to prepare the data, to transfer the data, and where would the loaded data land?</p></li>
<li><p>Update your diagram with the data loading process with the steps you identified.</p></li>
</ol>
<p><em>Application changes</em></p>
<ol type="1">
<li><p>What product would you recommend to WWI to migrate their store front MVC application to the new SQL Server database?</p></li>
<li><p>How would you migrate the Oracle Forms applications? How would you define success? Are there any technologies the customer needs to know about?</p></li>
<li><p>What will you do about the vendor touch points? How will you recommend they store the JSON data?</p></li>
</ol>
<p><em>Data warehouse and reporting</em></p>
<ol type="1">
<li><p>How can they discover what reports and Excel spreadsheets that hit the Oracle database need to be upgraded? What’s a proper upgrade path?</p></li>
<li><p>What must change about the way WWI loads their data warehouse?</p></li>
<li><p>What components do we need to use to upgrade the SQL Server Data warehouse to SQL Server 2017 Enterprise?</p></li>
<li><p>Identify the major milestones of delivery an upgraded SQL Server 2017 Enterprise upgrade</p></li>
<li><p>Are there any tools or processes that would make this easier?</p></li>
<li><p>What are the post upgrade steps we should consider in the POC? How would this address their concerns?</p></li>
</ol>
<p><em>High Availability and Audit Table</em></p>
<ol type="1">
<li><p>If our solution was SQL Server, what could WWI have done with the audit table when it filled up?</p></li>
<li><p>What are the SQL Server options for high availability?</p></li>
</ol>
<p><em>Azure SQL Database POC</em></p>
<ol type="1">
<li><p>Should they move to on-premises first?</p></li>
<li><p>Is there any benefit to going straight to Microsoft Azure? Does Azure SQL Database take care of all their requirements?</p></li>
<li><p>Are there any questions we need answered before we can begin a POC directly to Microsoft Azure?</p></li>
</ol>
<p><strong>Prepare</strong></p>
<p>Directions: With all participants at your table:</p>
<ol type="1">
<li>Identify any customer needs that are not addressed with the proposed solution.</li>
<li>Identify the benefits of your solution.</li>
<li>Determine how you will respond to the customer’s objections.</li>
</ol>
<p>Prepare a 15-minute chalk-talk style presentation to the customer.</p>
<h2 id="step-3-present-the-solution">Step 3: Present the solution</h2>
<p><strong>Outcome</strong></p>
<p>Present a solution to the target customer audience in a 15-minute chalk-talk format.</p>
<p>Time frame: 30 minutes</p>
<p><strong>Presentation</strong></p>
<p>Directions: 1. Pair with another table. 2. One table is the Microsoft team and the other table is the customer. 3. The Microsoft team presents their proposed solution to the customer. 4. The customer makes one of the objections from the list of objections. 5. The Microsoft team responds to the objection. 6. The customer team gives feedback to the Microsoft team. 7. Tables switch roles and repeat Steps 2–6.</p>
<h2 id="wrap-up">Wrap-up</h2>
<p>Time frame: 15 minutes</p>
<ul>
<li>Tables reconvene with the larger group to hear a SME share the preferred solution for the case study.</li>
</ul>
<h2 id="additional-references">Additional references</h2>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Description</strong></td>
<td style="text-align: center;"><strong>Links</strong></td>
</tr>
<tr class="even">
<td>Oracle Database to SQL Server Migration Assistant</td>
<td style="text-align: center;"><a href="https://msdn.microsoft.com/library/hh313159(v=sql.110).aspx/" class="uri">https://msdn.microsoft.com/library/hh313159(v=sql.110).aspx/</a></td>
</tr>
<tr class="odd">
<td>Azure SQL Database features</td>
<td style="text-align: center;"><a href="https://docs.microsoft.com/azure/sql-database/sql-database-features/" class="uri">https://docs.microsoft.com/azure/sql-database/sql-database-features/</a> <a href="https://blogs.msdn.microsoft.com/datamigration/dma/" class="uri">https://blogs.msdn.microsoft.com/datamigration/dma/</a></td>
</tr>
<tr class="even">
<td>SQL Server Stretch Database</td>
<td style="text-align: center;"><a href="https://azure.microsoft.com/services/sql-server-stretch-database" class="uri">https://azure.microsoft.com/services/sql-server-stretch-database</a></td>
</tr>
<tr class="odd">
<td>SQL Server JSON data</td>
<td style="text-align: center;"><a href="https://msdn.microsoft.com/library/dn921897.aspx" class="uri">https://msdn.microsoft.com/library/dn921897.aspx</a></td>
</tr>
<tr class="even">
<td>Older Oracle Forms Migration guide</td>
<td style="text-align: center;"><a href="https://technet.microsoft.com/library/bb463141.aspx/" class="uri">https://technet.microsoft.com/library/bb463141.aspx/</a> <a href="https://www.microsoft.com/sql-server/sql-license-migration/" class="uri">https://www.microsoft.com/sql-server/sql-license-migration/</a></td>
</tr>
<tr class="odd">
<td>Oracle License Assistance Program &amp; Deployment Subsidies</td>
<td style="text-align: center;"><a href="https://www.microsoft.com/sql-server/sql-license-migration/" class="uri">https://www.microsoft.com/sql-server/sql-license-migration/</a></td>
</tr>
<tr class="even">
<td>Data Migration Assistant blog</td>
<td style="text-align: center;"><a href="https://blogs.msdn.microsoft.com/datamigration/dma/" class="uri">https://blogs.msdn.microsoft.com/datamigration/dma/</a> <a href="https://technet.microsoft.com/library/bb463141.aspx/" class="uri">https://technet.microsoft.com/library/bb463141.aspx/</a></td>
</tr>
<tr class="odd">
<td>Database Experimentation Assistant (DEA)</td>
<td style="text-align: center;"><a href="https://blogs.msdn.microsoft.com/datamigration/2016/10/24/database-experimentation-%20assistant-v1-0-preview">https://blogs.msdn.microsoft.com/datamigration/2016/10/24/database-experimentation-%20assistant-v1-0-preview</a></td>
</tr>
<tr class="even">
<td>SQL Server CLR strict security</td>
<td style="text-align: center;"><a href="https://docs.microsoft.com/sql/database-engine/configure-windows/clr-strict-security" class="uri">https://docs.microsoft.com/sql/database-engine/configure-windows/clr-strict-security</a></td>
</tr>
</tbody>
</table>
<h1 id="data-platform-upgrade-and-migration-whiteboard-design-session-trainer-guide">Data platform upgrade and migration whiteboard design session trainer guide</h1>
<h2 id="step-1-review-the-customer-case-study-1">Step 1: Review the customer case study</h2>
<ul>
<li><p>Check in with your table participants to introduce yourself as the trainer.</p></li>
<li><p>Ask, “What questions do you have about the customer case study?”</p></li>
<li><p>Briefly review the steps and time frames of the whiteboard design session.</p></li>
<li><p>Ready, set, go! Let the table participants begin.</p></li>
</ul>
<h2 id="step-2-design-a-proof-of-concept-solution-1">Step 2: Design a proof of concept solution</h2>
<ul>
<li><p>Check in with your tables to ensure that they are transitioning from step to step on time.</p></li>
<li><p>Provide some feedback on their responses to the business needs and design.</p>
<ul>
<li>Try asking questions first that will lead the participants to discover the answers on their own.</li>
</ul></li>
<li><p>Provide feedback for their responses to the customer’s objections.</p>
<ul>
<li>Try asking questions first that will lead the participants to discover the answers on their own.</li>
</ul></li>
</ul>
<h2 id="step-3-present-the-solution-1">Step 3: Present the solution</h2>
<ul>
<li><p>Determine which table will be paired with your table before Step 3 begins.</p></li>
<li><p>For the first round, assign one table as the Microsoft team and the other table as the customer.</p></li>
<li><p>Have the Microsoft team present their solution to the customer team.</p>
<ul>
<li><p>Have the customer team provide one objection for the Microsoft team to respond to.</p></li>
<li><p>The presentation and objections should be no longer than 10 minutes.</p></li>
</ul></li>
<li><p>Have participants on the customer team give feedback to the Microsoft team.</p>
<ul>
<li><p>The feedback should be no longer than 5 minutes.</p></li>
<li><p>If needed, the trainer may also provide feedback.</p></li>
</ul></li>
</ul>
<h2 id="wrap-up-1">Wrap-up</h2>
<ul>
<li>Have the table participants reconvene with the larger session group to hear a SME share the following preferred solution.</li>
</ul>
<h2 id="preferred-target-audience">Preferred target audience</h2>
<p>Kathleen Sloan, CIO of World Wide Importers (WWI)</p>
<p>The primary audience is the business and technology decision makers. From the case study scenario, this would include the Director of Application Development, Business Intelligence Manager, Chief Operating Officer, and the Database Base Administrator. Usually we talk to the infrastructure managers who report to the chief information officer (CIO), or to application sponsors (like a vice president [VP] line of business [LOB], or chief marketing officer [CMO]), or to those that represent the business unit IT or developers that report to application sponsors.</p>
<h2 id="preferred-solution">Preferred solution</h2>
<p><em>High-level architecture</em></p>
<ol type="1">
<li><p>Without getting into the details (the following sections will address the details), diagram your initial vision for handling the top-level requirements for data loading, data preparation, application migration, storage, high availability, and reporting. You will refine this diagram as you proceed.</p>
<p>After speaking with its supportive team at Microsoft, WWI decided that SQL Server would in fact be the right choice for their platform. They decided to load data and schema using the SQL Server Migration Assistant, and migrate their Oracle Forms application to Microsoft ASP.NET Core. They are very concerned about how to do this and what method to use. They are leaning towards a total rewrite to ASP.NET Core. They would like the POC to include this. The POC should demonstrate that AlwaysOn Availability Groups will give them the reliability and performance they expected Oracle to deliver for them. They would like to migrate their data warehouse to SQL Server 2017 Enterprise. They have decided to host SQL Server 2017 on-premises for the Oracle OLTP replacement, with a possible move to Azure in the future.</p>
<p>The solution they’ve decided on, at a high level, appears as follows:</p>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image3.png" title="Preferred Solution diagram" alt="This solution diagram is divided in to Microsoft Azure, and On Premises. Microsoft Azure includes SQL Server 2017 in a VM as an Always On Secondary, and Azure SQL Data Warehouse for a stretch table. On Premise includes the following elements: API App for vendor connections; Web App for Internet Sales Transactions; ASP.NET Core App for inventory management; SQL Server 2017 OLTP for Always On and JSON store; SSRS 2017 for Reporting of OLTP, Data Warehouse, and Cubes; SSIS 2017 for a Data Warehouse Load; Excel for reporting; SQL Server 2017 Enterprise for a Data Warehouse; and SSAS 2017 for a Data Warehouse." /><figcaption>This solution diagram is divided in to Microsoft Azure, and On Premises. Microsoft Azure includes SQL Server 2017 in a VM as an Always On Secondary, and Azure SQL Data Warehouse for a stretch table. On Premise includes the following elements: API App for vendor connections; Web App for Internet Sales Transactions; ASP.NET Core App for inventory management; SQL Server 2017 OLTP for Always On and JSON store; SSRS 2017 for Reporting of OLTP, Data Warehouse, and Cubes; SSIS 2017 for a Data Warehouse Load; Excel for reporting; SQL Server 2017 Enterprise for a Data Warehouse; and SSAS 2017 for a Data Warehouse.</figcaption>
</figure>
<p>Diagram of possible architecture</p>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image4.png" title="Possible architecture" alt="Possible architecture includes; Web App for Internet Sales Transactions; two SQL Servers (2009 R2 Standard and 2017 Enterprise) that are data warehouses and that are connected; Excel for reporting; An Oracle DB OLTP RAC server that is connected to a SQL Server 2017 OLTP always on and JSON store; and an Oracle Forms App and ASP.NET Core App for inventory management, and that are connected. A second box lists Upgrade, Change Connection Strings, Rewrite DataSets for OLTP, and Redeploy. Three icons display for SSIS 2008 data warehouse load, SSRS 2008 for Reporting of OLTP, Data warehouse, and cubes, and SSAS 2008 data warehouse." /><figcaption>Possible architecture includes; Web App for Internet Sales Transactions; two SQL Servers (2009 R2 Standard and 2017 Enterprise) that are data warehouses and that are connected; Excel for reporting; An Oracle DB OLTP RAC server that is connected to a SQL Server 2017 OLTP always on and JSON store; and an Oracle Forms App and ASP.NET Core App for inventory management, and that are connected. A second box lists Upgrade, Change Connection Strings, Rewrite DataSets for OLTP, and Redeploy. Three icons display for SSIS 2008 data warehouse load, SSRS 2008 for Reporting of OLTP, Data warehouse, and cubes, and SSAS 2008 data warehouse.</figcaption>
</figure>
<p>Diagram of how moving pieces will change during the Oracle to SQL Server migration, and SQL Server 2017 Upgrade for the data warehouse.</p>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image5.tiff" title="Oracle to SQL Server migration" alt="The top row is labeled &quot;Upgrade the data warehouse.&quot; It has a SQL Server with an arrow labeled &quot;Database Migration Assistant (DMA),&quot; that points to a second SQL Server. The bottom row is labeled &quot;Migrate from Oracle.&quot; An Oracle icon has an arrow labeled &quot;SQL Server Migration Assistant (SSMA) that points to a SQL Server." /><figcaption>The top row is labeled &quot;Upgrade the data warehouse.&quot; It has a SQL Server with an arrow labeled &quot;Database Migration Assistant (DMA),&quot; that points to a second SQL Server. The bottom row is labeled &quot;Migrate from Oracle.&quot; An Oracle icon has an arrow labeled &quot;SQL Server Migration Assistant (SSMA) that points to a SQL Server.</figcaption>
</figure>
<p>Products that can be used to migrate specific products.</p>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image6.tiff" title="Microsoft SQL Server Migration Assistant (SSMA)" alt="Microsoft SQL Server Migration Assistant (SSMA) and SSMA 6.0 products that can be used are: Oracle, Access, IBM DB2, MySQL, and Sybase." /><figcaption>Microsoft SQL Server Migration Assistant (SSMA) and SSMA 6.0 products that can be used are: Oracle, Access, IBM DB2, MySQL, and Sybase.</figcaption>
</figure>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image7.tiff" title="Possible disaster recovery solution diagram" alt="The Possible disaster recovery solution diagram has an On-premises Network, which includes a Domain Controller, and a WSFC Cluster, made up of a Primary Replica that has Synchronous Commit with a Secondary Replica, and a File Share Witness. The Primary Replica has asynchronous Commit with a cloud-based secondary replica. The secondary replica uses a VPN tunnel to communicate with the On-premise network" /><figcaption>The Possible disaster recovery solution diagram has an On-premises Network, which includes a Domain Controller, and a WSFC Cluster, made up of a Primary Replica that has Synchronous Commit with a Secondary Replica, and a File Share Witness. The Primary Replica has asynchronous Commit with a cloud-based secondary replica. The secondary replica uses a VPN tunnel to communicate with the On-premise network</figcaption>
</figure>
<p>Diagram of possible disaster recovery solution feature AlwaysOn Available Groups. The diagram emphasizes a secondary replica in Microsoft Azure.</p>
<figure>
<img src="images/Whiteboarddesignsessiontrainerguide-Dataplatformupgradeandmigrationimages/media/image8.tiff" title="Example Oracle Forms migration to VB.NET windows application" alt="This is a diagram of an Example Oracle Forms migration to VB.NET windows application. On the left, the Oracle Forms Application includes an Oracle server, an Oracle module (Data block and control block), and Oracle Forms (menu module, PL/SQL library module, and object library module). On the right, a VB.NET Windows Application includes a VB.NET Windows Application project, which encompasses a menu, and WinForm (Databound Controls, and non-databound controls). In addition, below the project are two separate VB.NET Class Library Projects. The Oracle Forms PL/SQL Library module points to one, and the Object library module points to the other. The Oracle Menu Module points to VB.NET Menu, the Oracle Control block points to Non-databound controls, and the Oracle Data block passes through a DataSet/ DataReader / Command to the Databound controls. Between the two columns a SQL Server with ADO.NET connects through DataSet / DataReader / Command to VB.NET Class Library Project." /><figcaption>This is a diagram of an Example Oracle Forms migration to VB.NET windows application. On the left, the Oracle Forms Application includes an Oracle server, an Oracle module (Data block and control block), and Oracle Forms (menu module, PL/SQL library module, and object library module). On the right, a VB.NET Windows Application includes a VB.NET Windows Application project, which encompasses a menu, and WinForm (Databound Controls, and non-databound controls). In addition, below the project are two separate VB.NET Class Library Projects. The Oracle Forms PL/SQL Library module points to one, and the Object library module points to the other. The Oracle Menu Module points to VB.NET Menu, the Oracle Control block points to Non-databound controls, and the Oracle Data block passes through a DataSet/ DataReader / Command to the Databound controls. Between the two columns a SQL Server with ADO.NET connects through DataSet / DataReader / Command to VB.NET Class Library Project.</figcaption>
</figure>
<p>Diagram of an example Oracle Forms migration to VB.NET windows application (not WPF). This shows some of the components that might be in an Oracle Forms project, including menus, control blocks, and a PL/SQL module and the corresponding projects that can be chosen for those components. It’s not necessary to understand all components of Oracle Forms, only to know that it’s possible to rewrite the application while maintaining a similar structure, if desired.</p></li>
<li><p>What should they include in the PoC? What should be left out?</p>
<p>For the POC we should include the following:</p></li>
</ol>
<ul>
<li><p>An MVC app that changes connectionString from Oracle to SQL Server in Entity Framework.</p></li>
<li><p>A basic form that mirrors what’s in the Oracle Forms application.</p></li>
<li><p>The current Oracle database migrated to SQL Server 2017 Enterprise in a test environment.</p></li>
<li><p>An upgraded data warehouse using Data Migration Assistant, including:</p>
<ul>
<li><p>Including upgraded SSIS, SSAS, and SSRS projects</p></li>
<li><p>Testing repointing some of the Excel worksheets to a new test data warehouse.</p></li>
</ul></li>
<li><p>Implement new features in the new OLTP SQL Server database including:</p>
<ul>
<li><p>JSON Data Store</p></li>
<li><p>SQL Server Stretch Database</p></li>
<li><p>AlwaysOn Availability Groups</p></li>
</ul></li>
<li><p>Implement new features in the new SQL Server 2017 Enterprise Data warehouse features:</p>
<ul>
<li><p>Table Compression</p></li>
<li><p>Transparent Data Encryption</p></li>
<li><p>Clustered ColumnStore Indexing</p></li>
</ul></li>
</ul>
<ol start="3" type="1">
<li><p>How will SQL Server save them on licensing costs?</p>
<p>Microsoft offers license assistance programs for current Oracle users. This program can offer free licenses to current Oracle customers. They can also subsidize the cost of the migration process.</p>
<p>Also, SQL Server tends to be about 25% of the licensing costs of Oracle. Oracle charges for individual features, such as Oracle RAC. Microsoft SQL Server only has two real pricing tiers, Standard Edition and Enterprise Edition. With SQL Server 2017 Consistent Programming Surface Area, SQL Server licensing has gotten even simpler, while Oracle’s licensing is still getting more complicated. Now there are many Enterprise features of SQL Server that have pushed down to Standard Edition, including ColumnStore indexing. This should improve performance without greatly increasing costs. SQL Server also offers free licenses for pre-deployment environments, including development and test environments. Oracle charges for these licenses.</p>
<p>Oracle upgrades also need Oracle consultants. They take longer, and the consultants charge higher rates. Overall maintenance costs are much higher. These soft changes add to the overall cost of ownership for Oracle environments. These costs should decrease dramatically in a SQL Server environment.</p>
<p>At the time of this writing, for Enterprise versions, SQL Server is about $14,256 per core retail, while Oracle is $47,500 per core. That’s a significant cost savings.</p>
<p><strong>NOTE</strong>: The preferred solution is only one of many possible, viable approaches.</p></li>
</ol>
<p><em>Schema and data movement</em></p>
<ol type="1">
<li><p>How would you recommend that WWI move their data and schema into SQL Server? What services would you suggest and what are the specific steps they would need to take to prepare the data, to transfer the data, and where would the loaded data land?</p>
<p>SQL Server Migration Assistant (SSMA) was specifically created and supported by Microsoft to help Oracle customers move their schema and data over to Microsoft SQL Server. First you create a new project. Then you connect to the Oracle source database. Then connect to the SQL Server destination database. Map Oracle schemas to SQL Server schemas. Then you can load the Oracle schemas into the SQL Server schemas. Prior to synchronizing the objects into the SQL Server database, the SSMA for Oracle assemblies must be marked as trusted assemblies, so the synchronization can complete successfully. Once that is completed, synchronize all the objects. Lastly, you can move all the data into SQL Server.</p>
<p>You can also use SSMA to create scripts that you can modify by hand, if you’re more comfortable looking at the objects one at a time.</p>
<p>You can also use SSMA to only migrate the schema and then use another tool to load the data, like SSIS. This might be a better option if you are planning to run both databases in tandem with each other.</p></li>
<li><p>Update your diagram with the data loading process with the steps you identified.</p>
<p>See the diagram provided under High Level Architecture.</p></li>
</ol>
<p><em>Application changes</em></p>
<ol type="1">
<li><p>What product would you recommend WWI to migrate their store front MVC application to the new SQL Server database?</p>
<p>A specific product might not be needed, but you might evaluate whether they are using an object relational mapping (ORM) tool or not. If they are using Entity Framework, Dapper, or nHibernate, then the application should migrate much more easily.</p>
<p>If they didn’t use an ORM, then much of the data-layer code will need to be rewritten. If this code is consolidated, and only plain old CLR objects (POCOs) are being handed back using the repository pattern, then we might be able to replace the entire tier with Entity Framework or another ORM. If there has been bleeding between the layers, then this process might be significantly more difficult. The entire store front application would need to be refactored and tested eventually. For the POC, they are looking to switch the connection string, test several pages related to an order, and get a good idea on the work that would be necessary to get that to work.</p></li>
<li><p>How would you migrate the Oracle Forms applications? How would you define success? Are there any technologies the customer needs to know about?</p>
<p>The Oracle Forms application will need to be completely rewritten. There is guidance from Microsoft on how to do that to Visual Basic.NET. There are third party tools that will attempt to automatically rebuild an Oracle Forms application to Windows Presentation Foundation (WPF) and Model-View-ViewModel (MVVM). You can also rewrite this by hand into any technology the client would like.</p>
<p>Oracle Forms applications cannot be easily cloud hosted. This application would eventually need to be rewritten if they’d like new experiences like a mobile experience, a tablet application, or hosted in Microsoft Azure.</p></li>
<li><p>What will you do about the vendor touch points? How will you recommend they store the JSON data? The REST services need to be approached the same way the MVC store front application is approached. If they’ve used an ORM, then we can just repoint the connectionStrings and redeployed.</p>
<p>JSON data can be stored in a varchar field in SQL Server and managed through the JSON functions of SQL Server 2017. They can be queried and indexed through the JSON features, also.</p>
<p>The REST services need to be approached the same way the MVC store front application is approached. If they’ve used an ORM, then it is likely we can repoint the connectionStrings and redeploy.</p></li>
</ol>
<p><em>Data warehouse and reporting</em></p>
<ol type="1">
<li><p>How can they discover what reports and Excel spreadsheets that hit the Oracle database need to be upgraded? What’s a proper upgrade path?</p>
<p>There’s an Oracle Profiler API that can be used to store trace information into tables. These tables can be queried to see if we’ve identified all reports and artifacts that we need to upgrade.</p>
<p>We can put individual queries into stored procedures and upgrade them using SSMA. We can also use SSMA to upgrade individual queries to T-SQL.</p></li>
<li><p>What must change about the way WWI loads their data warehouse?</p>
<p>We need to identify all the extract, transform, and load (ETL) packages that load data from Oracle to SQL Server. We will upgrade all the connection strings to load the data warehouse from the new SQL Server OLTP database to the SQL Server data warehouse. We will have to change all the data source connections to SQL Server. If collation is different, we will need to address that with data conversion tasks in the data flow.</p></li>
<li><p>What components do we need to use to upgrade the SQL Server Data warehouse to SQL Server 2017 Enterprise?</p>
<p>We will have to account for SQL Server security, SQL Server agent jobs, and external applications that might be hitting the engine and SSAS.</p>
<p>SSRS, SSAS, and SSIS will need to be upgraded and redeployed. All developers who are using BI tools will need to upgrade to the latest versions of SQL Server Management Studio (SSMS) and SQL Server Data Tools (SSDT).</p></li>
<li><p>Identify the major milestones of delivery an upgraded SQL Server 2017 Enterprise upgrade.</p>
<p>A proper upgrade plan might look something like this:</p>
<ul>
<li><p>Assess</p>
<ul>
<li><p>Identify and Understand required changes</p></li>
<li><p>Understand how to leverage new features</p></li>
</ul></li>
<li><p>Plan</p>
<ul>
<li><p>When can I perform the migration?</p></li>
<li><p>How will I apply required fixes?</p></li>
</ul></li>
<li><p>Migrate</p>
<ul>
<li><p>Perform schema and data movement</p></li>
<li><p>Execute post migration fixes</p></li>
</ul></li>
</ul></li>
<li><p>Are there any tools or processes that would make this easier?</p>
<p>Microsoft’s Data Migration Assistant can be used to upgrade the SQL Server Data Warehouse. That tool can not only upgrade the data and schema in the database, but the SSIS database (if there is one), SQL Logins, SQL Agent Jobs, and SSIS packages.</p>
<p>When doing the assessment, WWI can choose which Compatibility Level they want to target- so they don’t need to jump all the way forward to the very latest level right away. This can help reduce the number of blocking issues they need to address manually before starting the migration.</p></li>
<li><p>What are the post upgrade steps we should consider in the POC? How would this address their concerns?</p>
<p>The Data Migration Assistant report, which is exported to a CSV file, should be reviewed for post-migration tasks identified by Data Migration Assistant.</p>
<p>After the upgrade, they need to quickly implement Transparent Data Encryption. This might complicate their populating test servers because a certificate and password are necessary to move the database to a new server.</p>
<p>They can immediately implement table compression in test. Compression might put a load on their processor, but they should notice a big performance increase related to disk I/O. Compressing the large fact tables and large dimension tables should improve performance.</p>
<p>Once installed, they can begin to experiment with SSRS mobile reporting and Power BI.</p>
<p>They should test if they get a performance increase by creating clustered ColumnStore indexes. Particularly, they should test their ETL processes.</p>
<p>The customer cited concerns with a slow data warehouse. Implementing compression and ColumnStore clustered indexes will likely alleviate the performance issues. Transparent Data Encryption will help them pass their audits.</p>
<p>Also, consider using the Database Experimentation Assistant to prove that these changes have improved query performance of the SQL Server Data warehouse.</p></li>
</ol>
<p><em>High Availability and Audit Table</em></p>
<ol type="1">
<li><p>If our solution was SQL Server, what could WWI have done with the audit table when it filled up?</p>
<p>Implement SQL Server Stretch Database to grow the audit table while we worked on a long-term solution.</p>
<p>There are other possible answers below:</p>
<ul>
<li><p>Use views to extend the table to another drive. Create a view with the original table name. Have two tables behind it, one on each different drive. Use instead of triggers to intercept the inserts and in the trigger, choose the active table.</p></li>
<li><p>Use table partitions and move a newer partition to a new drive.</p></li>
<li><p>Archive older records temporarily while we implement a longer-term solution.</p></li>
</ul></li>
<li><p>What are the SQL Server options for high availability?</p>
<p>SQL Server provides several options for creating high availability for a server or database. High-availability options include the following:</p>
<ul>
<li><p>Failover clustering</p></li>
<li><p>Database mirroring</p></li>
<li><p>Log shipping</p></li>
<li><p>Replication</p></li>
<li><p>Scalable shared databases</p></li>
</ul></li>
</ol>
<p><em>Azure SQL Database POC</em></p>
<ol type="1">
<li><p>Should they move to on-premises first?</p>
<p>This is a perfectly acceptable option. If we do, we might consider using AlwaysOn, and creating a copy of the data in Azure as an AlwaysOn Secondary. This would keep an active, current copy of the data in the cloud that we could use for Power BI, other Azure-based applications, or as part of a future Azure migration.</p>
<p>Other on-premises applications might keep them on-premises until they can figure out how to move those applications to the cloud. It depends on the integration touchpoints, network latency needs, and reliable internet connectivity for all offices.</p></li>
<li><p>Is there any benefit to going straight to Microsoft Azure? Does Azure SQL Database take care of all of their requirements?</p>
<p>If the organization has chosen to go to the cloud, this might be a long-term cost savings of skipping purchasing the on-premises hardware.</p>
<p>If the applications are already cloud born, or they have many external applications needing access, then this would not affect latency while removing the burden from WWI of maintaining the connectivity with all their integration partners.</p>
<p>In addition, they would gain the benefit of simplifying future software upgrades so the current investment in new hardware was necessary. Some of their products would upgrade and offer new features with minimal effort on their part.</p></li>
<li><p>Are there any questions we need answered before we can begin a POC directly to Microsoft Azure?</p>
<ul>
<li><p>What is network connectivity like between on-premises and the cloud?</p></li>
<li><p>What are our long-term cloud plans? Is there a mandate to go there any way?</p></li>
<li><p>Where is the rest of the data integration points stored? Are they on-premises? Is anything in Microsoft Azure already?</p></li>
<li><p>Are there any cloud products that are already on the roadmap for the organization?</p></li>
</ul></li>
</ol>
<h2 id="checklist-of-preferred-objection-handling">Checklist of preferred objection handling</h2>
<p>Do we need to upgrade to on-premises SQL Server first or go straight to Azure?</p>
<p>This is joint business decision and technical decision. Azure SQL Database or Azure SQL in a VM will offer all the features they’ve stated that they need. There is a migration path to both.</p>
<p>If they have a long-term strategy to move to the cloud, have already moved some resources there, have a plan to co-locate with a partner data center, or have identified cloud services they’d like to take advantage of, then moving straight to the cloud might be preferred.</p>
<p>It might be easier to be on-premises if they don’t have Express Route for their Excel spreadsheets and other on-premises resources that can’t migrate to Azure quite yet.</p>
<p>Can we have two proof of concepts that demonstrate both migrations?</p>
<p>Two proof-of-concepts are possible, and easy to do. The application architecture might be quite a bit different if we choose to use Platform as a Service (PaaS). The online sales application and the web services would migrate to Azure Websites. SSRS would have to migrate to a Virtual Machine (unless we use the SSRS Azure alpha release). The data warehouse likely can’t move to the cloud without a significant investment. If it stays on-premises, then data movement from the new Azure OLTP database to the on-premises SQL Server 2017 Enterprise data warehouse would need to be addressed. Again, ExpressRoute might be needed.</p>
<p>Do we need to rewrite all of our applications for SQL Server?</p>
<p>The Oracle Forms application would have to be rewritten to ASP.NET Core or ASP.NET MVC. There are migration tools available to help from third-parties if they choose to migrate to ASP.NET MVC. Otherwise, the rewrite effort will need to be planned and implemented. For the POC, show a basic CRUD data entry form to show how the project would be structured. Use Entity Framework if appropriate to make the CRUD migration easier.</p>
<p>If the existing ASP.NET MVC application that runs their store front uses Entity Framework or another object-relational mapping (ORM) tool, then a migration of that application is trivial. It’s possible that we could repoint the connectionString, re-run the unit tests, and the application will just work. Blockers might be if Entity Framework is using Stored Procedures in Oracle. Those will need to be tested after we run the SQL Server Migration Assistant.</p>
<p>Do we need to rewrite all of our reports for SQL Server?</p>
<p>The SSRS reports should migrate over with just a change to the connectionString. The data sets might need SQL refreshed for T-SQL instead of PL/SQL.</p>
<p>If the Excel reports use simple queries to views or stored procedures, then changing the connectionString might work with them, also. If not, then the queries that drive the spreadsheets will need to be rewritten. The SQL Server Migration Tool can also convert specific, individual queries from PL/SQL to T-SQL.</p>
<p>Will our security migrate over? How do we handle security in the new database?</p>
<p>Security roles, users, and permissions will need to be recreated. Schema can be mapped and migrated over to the new server.</p>
<p>Do we need to invest in a JSON storage system for the JSON data we’re storing from our vendor’s web service?</p>
<p>JSON data can be stored in SQL Server as a varchar field. It can be queried and indexed using JSON keywords in T-SQL. It can be queried and flattened to be used in an SSRS report of bad data that didn’t parse when we processed it with the web service (a customer concern they mentioned having previously).</p>
<p>What will we do if our audit logs fill up again? Will SQL Server crash the same way Oracle did?</p>
<p>We can use SQL Server Stretch Database to extend the audit table to Azure. We can also partition big tables and put the new partition on a different drive that doesn’t have space problems.</p>
<p>If we take advantage of new features, will our license costs keep ratcheting up and up? Will we have a dependable way of budgeting for this project?</p>
<p>Microsoft offers license assistance programs for current Oracle users. This program can offer free licenses to current Oracle customers. They can also subsidize the cost of the migration process. SQL Server licensing also includes all available features in the Enterprise Edition with no additional cost for each feature implemented.</p>
<p>Are there any features of Oracle that SQL Server doesn’t have?</p>
<p>Nothing in the customer requirements is exclusive to an Oracle ecosystem. Oracle Forms is unique to Oracle, but Microsoft offers several replacement technologies, including LightSwitch, SharePoint Forms, Power Apps, ASP.NET MVC, WPF Forms, and ASP.NET Core applications.<br />
The customer might implement Oracle RAC, but AlwaysOn Availability Groups are easier to implement, cheaper, and have lower hardware requirements.</p>
<p>Do we need to tell all our vendors that we’re changing databases so their integrations work?</p>
<p>As long as we test and refactor the web services they use, they shouldn’t know that you switched your back-end data store.</p>
<p>What will stop us from upgrading our data warehouse to SQL Server 2017 Enterprise?</p>
<p>Thought needs to be given to upgrading the database storage engine, SQL Server Analysis Services, SQL Server Reporting Services, and SQL Server Integration Services. SSRS and SSIS have been completely redone since SQL Server 2008, with new interfaces and new engines. SSAS multidimensional also has a new engine with the tabular engine. Thought needs to be given if it will be implemented.</p>
<p>When we upgrade the data warehouse, how will we keep all our connected dependencies updated?</p>
<p>If we don’t change the server name, our job is much easier. We might not even need to modify the connectionStrings. We can keep the server name the same by either doing an in-place upgrade or by migrating to a new server and then changing the name of the new server to a new name. If we migrate to a new server, we will need to migrate security logins and permissions, along with the database. We’ll also need to script the SQL Server Agent jobs over to the new server.</p>
<p>What will happen with SSIS, SSRS, and SSAS?</p>
<p>Once the server is upgraded, we should redeploy the SSIS, SSAS, and SSRS projects after changing the connectionStrings. If we used project connectionStrings, this will be much easier. All external connections should be tested thoroughly.</p>
<p>If we use Database Migration Assistant, SSIS packages will upgrade during the process and will migrate over to the new server.</p>
<p>How will security and SQL Agent obs migrate over?</p>
<p>If we use Database Migration Assistant, security and the SQL Server Agent Jobs will migrate over to the new server.</p>
<h2 id="customer-quote-to-be-read-back-to-the-attendees-at-the-end">Customer quote (to be read back to the attendees at the end)</h2>
<p>“We are excited that a SQL Server environment will help our organization grow and prosper for many years into the future.”</p>
<p>Kathleen Sloan, CIO of World Wide Importers</p>
</body>
</html>
